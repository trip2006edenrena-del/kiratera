<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚«ãƒ«ãƒ†ä¸€è¦§</title>
<style>
/* åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f5f7fa;
  padding: 100px 20px 20px;
  margin: 0;
}
h1 { margin-top: 0; text-align: center; }

/* ä¸Šéƒ¨å›ºå®šãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ */
.fixed-top-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: space-between; /* å·¦å³ã«åˆ†æ•£ */
  gap: 8px;
  background: #007aff;
  padding: 12px 10px;
  z-index: 1000;
  box-sizing: border-box;
  flex-wrap: wrap; /* ç‹­ã„ç”»é¢ã§ã¯ç¸¦ä¸¦ã³ */
}
.fixed-top-container button {
  flex: 1;
  min-width: 140px;
  border: none;
  border-radius: 8px;
  padding: 12px 0;
  font-size: 16px;
  cursor: pointer;
  color: #fff;
  background: #005fcc;
}

/* ã‚«ãƒ«ãƒ†ã‚«ãƒ¼ãƒ‰ */
.card {
  background: #fff;
  padding: 16px;
  border-radius: 16px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  margin-bottom: 16px;
}
.card p { margin: 6px 0; }

/* è©•ä¾¡ã®è‰²åˆ†ã‘ */
.success { background: #ffd700; padding: 4px 8px; border-radius: 6px; color: #000; }
.normal { background: #cfd8dc; padding: 4px 8px; border-radius: 6px; color: #000; }
.fail { background: #ff4d4d; padding: 4px 8px; border-radius: 6px; color: #fff; }

/* å‰Šé™¤ãƒœã‚¿ãƒ³ */
.delete-btn { background: #ff4d4d; color: #fff; padding: 6px 10px; border-radius: 8px; border: none; cursor: pointer; margin-top: 6px; }

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
@media (max-width: 600px) {
  .fixed-top-container {
    flex-direction: column;
    gap: 6px;
    padding: 10px;
  }
  .fixed-top-container button { font-size: 14px; min-width: auto; }
}
</style>
</head>
<body>

<!-- ä¸Šéƒ¨å›ºå®šãƒœã‚¿ãƒ³ï¼ˆæ¨ªä¸¦ã³ã€ç‹­ã„ç”»é¢ã¯ç¸¦ä¸¦ã³ï¼‰ -->
<div class="fixed-top-container">
  <button onclick="location.href='record.html'">ğŸ“ æ–°ã—ã„ã‚«ãƒ«ãƒ†ä½œæˆ</button>
  <button onclick="location.href='index.html'">ğŸ¨ è‰²å‘³é¸æŠã«æˆ»ã‚‹</button>
</div>

<h1>ğŸ“„ ä¿å­˜æ¸ˆã¿ã‚«ãƒ«ãƒ†ä¸€è¦§</h1>
<div id="list"></div>

<script>
// ã‚«ãƒ«ãƒ†ä¸€è¦§è¡¨ç¤º
function renderList() {
  const list = document.getElementById("list");
  const records = JSON.parse(localStorage.getItem("records") || "[]");

  if(records.length === 0){
    list.innerHTML = "<p style='text-align:center;'>ä¿å­˜ã•ã‚ŒãŸã‚«ãƒ«ãƒ†ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>";
    return;
  }

  list.innerHTML = "";
  records.forEach((r, index) => {
    const div = document.createElement("div");
    div.className = "card";

    // è©•ä¾¡ã®è‰²åˆ†ã‘
    let ratingColor = "";
    if(r.rating.includes("æˆåŠŸ")) ratingColor = "success";
    else if(r.rating.includes("æ™®é€š")) ratingColor = "normal";
    else if(r.rating.includes("åçœ")) ratingColor = "fail";

    div.innerHTML = `
      <p><strong>æ—¥ä»˜:</strong> ${r.date}</p>
      <p><strong>åå‰:</strong> ${r.name}</p>
      <p><strong>è‰²å‘³:</strong> ${r.color}</p>
      <p><strong>é«ªçŠ¶æ…‹:</strong> ${r.hair}</p>
      <p><strong>è©•ä¾¡:</strong> <span class="${ratingColor}">${r.rating}</span></p>
      <p><strong>ãƒ¡ãƒ¢:</strong> ${r.memo}</p>
      <button class="delete-btn" onclick="deleteRecord(${index})">å‰Šé™¤</button>
    `;
    list.appendChild(div);
  });
}

// å‰Šé™¤å‡¦ç†
function deleteRecord(idx){
  const records = JSON.parse(localStorage.getItem("records") || "[]");
  if(!confirm("æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) return;
  records.splice(idx,1);
  localStorage.setItem("records", JSON.stringify(records));
  renderList();
}

// åˆæœŸè¡¨ç¤º
renderList();
</script>

</body>
</html>
